<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Mix-Up: The Investor is Coming</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #2c3e50;
            margin: 0;
            padding: 20px;
            color: #333;
        }html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* kills horizontal scroll/clip */
}.game-container {
    max-width: 100%; /* change from 450px to allow full width on phone */
    width: 100%;
    margin: 0 auto;
    background: #f5f5f5;
    border-radius: 0; /* remove rounding on mobile if it clips */
    padding: 15px; /* tighter padding */
    box-shadow: none; /* optional: shadows can cause perceived overflow */
}
        .status-bar {
            background: white;
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .timer {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 10px;
        }
        .quality-meter {
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .quality-fill {
            height: 100%;
            width: 50%;
            background: #27ae60;
            transition: width 0.3s;
        }
        .quality-text {
            text-align: center;
            font-size: 14px;
            color: #7f8c8d;
        }
        .kitchen {
            background: white;
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .pots {
            display: flex;
            justify-content: space-around;
            margin: 15px 0;
        }
        .pot {
            text-align: center;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 10px;
            width: 30%;
        }
        .pot.need-help {
            border: 2px solid #e74c3c;
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(231,76,60,0.4); }
            70% { box-shadow: 0 0 0 10px rgba(231,76,60,0); }
            100% { box-shadow: 0 0 0 0 rgba(231,76,60,0); }
        }
        .pot-icon img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }
        .contacts {
            background: white;
            border-radius: 20px;
            overflow: hidden;
        }
        .contact {
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
        }
        .contact:hover {
            background: #e3f2fd;
        }
        .contact:last-child { border-bottom: none; }
        .contact-name { font-weight: bold; margin-bottom: 5px; }
        .contact-preview { font-size: 12px; color: #7f8c8d; }
        .message-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 300px;
            display: none;
            z-index: 1000;
        }
        .message-popup.show { display: block; }
        .message-text { margin-bottom: 20px; line-height: 1.5; }
        .message-buttons { display: flex; gap: 10px; justify-content: center; }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        .btn-primary { background: #27ae60; color: white; }
        .btn-secondary { background: #e74c3c; color: white; }
        .btn-small { background: #3498db; color: white; padding: 5px 15px; font-size: 14px; }
        .group-chat {
            background: white;
            border-radius: 20px;
            padding: 15px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            font-size: 13px;
        }
        .chat-message {
            margin-bottom: 10px;
            padding: 8px;
            background: #f0f0f0;
            border-radius: 10px;
        }
        .chat-sender { font-weight: bold; color: #2c3e50; margin-bottom: 3px; }
        .chat-text { color: #555; }
        .new-message { animation: highlight 1s; }
        @keyframes highlight {
            0% { background: #fffacd; }
            100% { background: #f0f0f0; }
        }
        .investor-text {
            background: #3498db;
            color: white;
            padding: 10px;
            border-radius: 10px;
            margin-top: 15px;
            font-style: italic;
        }
        /* How-to-play full screen */
       #how-to-play {
    position: fixed;
    inset: 0;
    background: #1a2634;
    color: #f5f5f5;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 15px; /* reduced for small screens */
    box-sizing: border-box;
    overflow-y: auto; /* allow scroll if text too long */
    z-index: 2000;
}
    </style>
</head>
<body>

<!-- HOW TO PLAY OVERLAY -->
<div id="how-to-play">
    <h1 style="font-size: 2.4em; margin: 0 0 25px; color: #e67e22;">Contact Mix-Up:<br>The Investor is Coming! üç≤üìû</h1>
    <div style="max-width: 480px; font-size: 1.1em; line-height: 1.6;">
        <p>Your investor (Mr. Okafor) arrives in 2 hours expecting a proper Naija spread ‚Äî but your phone contacts are completely scrambled.</p>
        <p><strong>Goal:</strong> Quickly figure out who‚Äôs really who so the right family members can help rescue your Jollof, Egusi, and Fufu before everything burns or quality tanks.</p>
        <ul style="text-align: left; margin: 25px auto; padding-left: 20px; max-width: 420px; list-style-type: square;">
            <li>Tap any contact ‚Üí listen to their voicemail</li>
            <li>Decide: Is this actually your Mom / Aunty / Uncle‚Ä¶ or a restaurant / wrong number?</li>
            <li>‚úÖ Correct guess ‚Üí quality improves + family member helps dish</li>
            <li>‚ùå Wrong guess ‚Üí quality drops (softer early on) + group chat gets suspicious</li>
            <li>Watch the chat ‚Äî missed calls and hang-ups make them connect dots</li>
        </ul>
        <p style="font-weight: bold; color: #e74c3c; margin: 20px 0;">Don‚Äôt burn the food. Don‚Äôt make Aunty angry. Good luck!</p>
    </div>
    <button id="start-game-btn" class="btn btn-primary" style="margin-top: 30px; font-size: 1.5em; padding: 16px 50px;">
        Start Cooking ‚Äì No Time to Waste! üî•
    </button>
</div>

<div class="game-container" id="game-container">
    <!-- STATUS BAR -->
    <div class="status-bar">
        <div class="timer">‚è∞ Investor arrives in: <span id="timer">2:00</span></div>
        <div class="quality-meter">
            <div class="quality-fill" id="quality-fill" style="width: 50%;"></div>
        </div>
        <div class="quality-text">Dish Quality: <span id="quality">50</span>%</div>
    </div>
    
    <!-- INVESTOR TEXT -->
    <div class="investor-text" id="investor-text" style="display: none;"></div>
    
    <!-- KITCHEN -->
    <div class="kitchen">
        <h3>üî• Your Kitchen</h3>
        <div class="pots">
            <div class="pot need-help" id="pot-jollof">
                <div class="pot-icon"><img src="jollof.jpg" alt="Jollof Rice"></div>
                <div>Jollof Rice</div>
                <small>Needs Mom</small>
            </div>
            <div class="pot need-help" id="pot-egusi">
                <div class="pot-icon"><img src="egusi.jpg" alt="Egusi Soup"></div>
                <div>Egusi Soup</div>
                <small>Needs Aunt</small>
            </div>
            <div class="pot need-help" id="pot-fufu">
                <div class="pot-icon"><img src="fufu.jpg" alt="Fufu"></div>
                <div>Fufu</div>
                <small>Needs Uncle</small>
            </div>
        </div>
    </div>
    
    <!-- CONTACTS -->
    <h3>üì± Mixed Up Contacts</h3>
    <div class="contacts" id="contacts-list"></div>
    
    <!-- GROUP CHAT -->
    <div class="group-chat" id="group-chat">
        <h4>üí¨ Omo Naija Family</h4>
        <div id="chat-messages">
            <div class="chat-message">
                <div class="chat-sender">Cousin:</div>
                <div class="chat-text">Anyone heard from [You] today?</div>
            </div>
        </div>
    </div>
</div>

<!-- MESSAGE POPUP -->
<div class="message-popup" id="message-popup">
    <div class="message-text" id="message-text">Voicemail plays...</div>
    <div class="message-buttons">
        <button class="btn btn-primary" id="btn-fix">‚úÖ This is [Person]</button>
        <button class="btn btn-secondary" id="btn-wrong">‚ùå Wrong Number</button>
    </div>
    <div style="text-align: center; margin-top: 10px;">
        <button class="btn-small" id="btn-hangup">üìû Hang Up (Do Nothing)</button>
    </div>
</div>

<script>
    let gameState = {
        timer: 120,
        quality: 50,
        mistakes: 0,
        contacts: [
            { displayName: "‚ù§Ô∏è Mom", realIdentity: "restaurant", voicemail: "Thank you for calling Jollof Palace, home of the best jollof in the city! We're open 11am to 10pm.", type: "restaurant", knownAs: null },
            { displayName: "üë® Dad", realIdentity: "uncle", voicemail: "My person! This is Uncle! You caught me at a bad time, I'm eating. Leave message!", type: "family", knownAs: null },
            { displayName: "üå∏ Aunt", realIdentity: "mom", voicemail: "Hello? ... Oh, it's you! Why you no call me yesterday? I made your favorite. Anyway, leave message. Or better, come eat. Love you.", type: "family", knownAs: null },
            { displayName: "üë¥ Uncle", realIdentity: "aunt", voicemail: "Eh! Who this? ... Oh, voicemail. This is Aunty. If you're my real family, leave message. If you're selling something, God punish you.", type: "family", knownAs: null },
            { displayName: "‚≠ê Cousin", realIdentity: "cousin", voicemail: "Yo, it's your favorite cousin! Leave a message, I got you. Unless you're asking for money. Then I'm busy.", type: "family", knownAs: null },
            { displayName: "üçΩÔ∏è Jollof Palace", realIdentity: "restaurant", voicemail: "Jollof Palace! Today's special: jollof rice with grilled chicken.", type: "restaurant", knownAs: null },
            { displayName: "üçΩÔ∏è Mama Put", realIdentity: "restaurant", voicemail: "Mama Put! Where the food is always ready! We open at noon.", type: "restaurant", knownAs: null },
            { displayName: "üçΩÔ∏è Buka Kitchen", realIdentity: "dad", voicemail: "This is Dad. If it's important, I'll call back. If it's your mother, she's in the kitchen.", type: "family", knownAs: null },
            { displayName: "üçï Pizza Place", realIdentity: "wrong", voicemail: "Domino's Pizza! Would you like to place an order? Call back for delivery!", type: "wrong", knownAs: null },
            { displayName: "üíº Kehinde (Work)", realIdentity: "wrong", voicemail: "Hey, it's Kehinde from work! Haven't heard from you in months! Call me back!", type: "wrong", knownAs: null }
        ],
        familyHelps: {
            mom:    { dish: 'jollof', boostGiven: false },
            aunt:   { dish: 'egusi',  boostGiven: false },
            uncle:  { dish: 'fufu',   boostGiven: false }
        },
        callsMade: 0,
        currentCallIndex: -1
    };

    function updateTimer() {
        if (gameState.timer <= 0) {
            document.getElementById('timer').innerText = "0:00";
            alert("INVESTOR ARRIVES! Your food is not ready...");
            return;
        }
        gameState.timer -= 1;
        let minutes = Math.floor(gameState.timer / 60);
        let seconds = gameState.timer % 60;
        document.getElementById('timer').innerText = minutes + ":" + (seconds < 10 ? "0" : "") + seconds;

        if (gameState.timer === 105) showInvestorText("Mr. Okafor: Traffic is light. I might be early!");
        if (gameState.timer === 75) showInvestorText("Mr. Okafor: I saw your mother at the market. She didn't mention you were cooking today...");
        if (gameState.timer === 45) showInvestorText("Mr. Okafor: Your father just called me. He asked how your cooking was coming along. I didn't know what to say.");
        if (gameState.timer === 15) showInvestorText("Mr. Okafor: I'm 15 minutes out. Hope everything is ready!");
    }

    function showInvestorText(message) {
        let textBox = document.getElementById('investor-text');
        textBox.innerText = "üì± " + message;
        textBox.style.display = 'block';
        setTimeout(() => { textBox.style.display = 'none'; }, 8000);
    }

    function renderContacts() {
        let html = '';
        let sorted = [...gameState.contacts].sort((a,b) => {
            if (a.knownAs && !b.knownAs) return -1;
            if (!a.knownAs && b.knownAs) return 1;
            return 0;
        });
        for (let i = 0; i < sorted.length; i++) {
            let c = sorted[i];
            let origIndex = gameState.contacts.indexOf(c);
            let name = c.knownAs ? `‚úÖ ${c.knownAs}` : c.displayName;
            html += `<div class="contact" onclick="callContact(${origIndex})">
                <div class="contact-name">${name}</div>
                <div class="contact-preview">Click to call...</div>
            </div>`;
        }
        document.getElementById('contacts-list').innerHTML = html;
    }

    function callContact(index) {
        gameState.currentCallIndex = index;
        let contact = gameState.contacts[index];
        document.getElementById('message-text').innerText = "üìû Voicemail: " + contact.voicemail;
        document.getElementById('message-popup').classList.add('show');
    }

    document.getElementById('btn-fix').addEventListener('click', () => {
        let index = gameState.currentCallIndex;
        let contact = gameState.contacts[index];
        let message = '';
        let qualityChange = 0;

        if (contact.type === 'family') {
            message = "‚úÖ Contact saved! You now know who this is.";
            qualityChange = 12;

            let realIdLower = contact.realIdentity.toLowerCase();
            if (gameState.familyHelps[realIdLower] && !gameState.familyHelps[realIdLower].boostGiven) {
                let dish = gameState.familyHelps[realIdLower].dish;
                qualityChange += 18;
                gameState.familyHelps[realIdLower].boostGiven = true;
                message += ` ${realIdLower.charAt(0).toUpperCase() + realIdLower.slice(1)} is helping with ${dish}!`;

                let potId = 'pot-' + dish;
                document.getElementById(potId).classList.remove('need-help');
                document.getElementById(potId).querySelector('small').innerText = 'Helped by ' + realIdLower.charAt(0).toUpperCase() + realIdLower.slice(1);
            }

            if (!contact.knownAs) {
                contact.knownAs = contact.realIdentity.charAt(0).toUpperCase() + contact.realIdentity.slice(1);
                renderContacts();
            }
        } else {
            gameState.mistakes++;
            qualityChange = (gameState.mistakes <= 3) ? -6 : -15;
            message = "‚ùå That's not family! Wasted time.";
        }

        gameState.quality += qualityChange;
        gameState.quality = Math.max(0, Math.min(100, gameState.quality));
        document.getElementById('quality').innerText = gameState.quality;
        document.getElementById('quality-fill').style.width = gameState.quality + '%';

        addGroupChatMessage('System', message);
        document.getElementById('message-popup').classList.remove('show');
        checkGameStatus();
    });

    document.getElementById('btn-wrong').addEventListener('click', () => {
        let index = gameState.currentCallIndex;
        let contact = gameState.contacts[index];
        let message = '';
        let qualityChange = 0;

        if (contact.type === 'restaurant' || contact.type === 'wrong') {
            message = "‚úÖ Good call ‚Äì that's not family.";
            qualityChange = 5;
        } else {
            gameState.mistakes++;
            qualityChange = (gameState.mistakes <= 3) ? -8 : -20;
            message = "‚ùå That WAS your " + contact.realIdentity + "! Hung up on family!";
            addGroupChatMessage(contact.realIdentity.charAt(0).toUpperCase() + contact.realIdentity.slice(1), "Did you just call and hang up?!");
        }

        gameState.quality += qualityChange;
        gameState.quality = Math.max(0, Math.min(100, gameState.quality));
        document.getElementById('quality').innerText = gameState.quality;
        document.getElementById('quality-fill').style.width = gameState.quality + '%';

        addGroupChatMessage('System', message);
        document.getElementById('message-popup').classList.remove('show');
        checkGameStatus();
    });

    document.getElementById('btn-hangup').addEventListener('click', () => {
        addGroupChatMessage('System', 'üìû Hung up without leaving message.');
        gameState.timer -= 2;
        if (gameState.timer < 0) gameState.timer = 0;
        document.getElementById('message-popup').classList.remove('show');
    });

    function addGroupChatMessage(sender, message) {
        let chatDiv = document.getElementById('chat-messages');
        let newMsg = document.createElement('div');
        newMsg.className = 'chat-message new-message';
        newMsg.innerHTML = `<div class="chat-sender">${sender}:</div><div class="chat-text">${message}</div>`;
        chatDiv.appendChild(newMsg);
        let container = document.getElementById('group-chat');
        container.scrollTop = container.scrollHeight;
        setTimeout(() => newMsg.classList.remove('new-message'), 1000);
    }

    function checkGameStatus() {
        if (gameState.quality <= 20) alert("‚ö†Ô∏è Food almost ruined! Investor soon!");
        if (gameState.quality <= 0) alert("‚ùå GAME OVER - Food burnt. Family disappointed.");
        if (gameState.quality >= 80) addGroupChatMessage('Mom', 'Something tells me [You] is cooking good today...');
    }

    // START GAME
    document.getElementById('start-game-btn').addEventListener('click', () => {
        document.getElementById('how-to-play').style.display = 'none';
        document.getElementById('game-container').style.display = 'block';
        renderContacts();
        setInterval(updateTimer, 3000);
        // Delayed chat messages
        setTimeout(() => addGroupChatMessage('Aunt', 'My phone acting up. Weird calls.'), 10000);
        setTimeout(() => addGroupChatMessage('Uncle', 'Same! Got call from "Jollof Palace". Hung up!'), 20000);
        setTimeout(() => addGroupChatMessage('Mom', 'Wait... [You] called but hung up. Cooking maybe?'), 35000);
        setTimeout(() => addGroupChatMessage('Dad', 'Mr. Okafor called. Going to [You]‚Äôs place. Nobody told me.'), 50000);
        setTimeout(() => {
            addGroupChatMessage('Mom', 'WHAT?! Nobody tells me anything!');
            addGroupChatMessage('Aunt', 'Eh! [You] better call me NOW!');
        }, 55000);
    });
</script>
</body>
</html>




